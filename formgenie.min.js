!function(e){if(void 0===e){let t=document.createElement("script");t.src="https://code.jquery.com/jquery-3.6.4.min.js",t.onload=()=>i(),document.head.appendChild(t)}else i();function i(){let t=e=>e.charAt(0).toUpperCase()+e.slice(1),i=t=>{if(!e(`link[href="${t}"]`).length){let i=document.createElement("link");i.rel="stylesheet",i.href=t,document.head.appendChild(i)}},a=(t,i)=>{if(e(`script[src="${t}"]`).length)i();else{let a=document.createElement("script");a.src=t,a.onload=i,document.head.appendChild(a)}},l=e=>{let{theme:t}=e;"tailwind"===t?i("https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"):"bootstrap"===t&&i("https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"),i("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"),i("https://cdn.jsdelivr.net/npm/@mdi/font/css/materialdesignicons.min.css"),i("https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"),a("https://cdn.jsdelivr.net/npm/iziToast@1.4.0/dist/iziToast.min.js",()=>{}),a("https://cdn.jsdelivr.net/npm/sweetalert2@11.0.0/dist/sweetalert2.all.min.js",()=>{})};window.FormGenie={create:function(t){let i=e.extend({},{container:null,fields:[],order:[],theme:"tailwind",submitText:"Submit",validateOnSubmit:!0,additionalCSS:"",animation:"genie-fade-in",onSuccess:null,customURL:null,fieldClasses:{},buttonClasses:""},t);if(!i.container||!e(i.container).length){console.error("FormGenie: Invalid container specified!");return}this.injectCSS(i),this.buildForm(i),l(i)},injectCSS:function(e){let{theme:t,additionalCSS:a}=e;if("bootstrap"===t?i("https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"):"tailwind"===t&&i("https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"),a){let l=document.createElement("style");l.innerHTML=a,document.head.appendChild(l)}this.includeAnimationCSS()},includeAnimationCSS:function(){let e=document.createElement("style");e.innerHTML=` .genie-fade-in { animation: genie-fade-in 0.5s ease-in-out; } .genie-fade-out { animation: genie-fade-out 0.5s ease-in-out; } @keyframes genie-fade-in { 0% { opacity: 0; } 100% { opacity: 1; } } @keyframes genie-fade-out { 0% { opacity: 1; } 100% { opacity: 0; } } `,document.head.appendChild(e)},buildForm:function(i){let{container:a,fields:l,order:s,theme:n,submitText:r,validateOnSubmit:o,animation:d,onSuccess:c,customURL:m,fieldClasses:u,buttonClasses:p}=i,b=this.mergeFields(this.defaultFields,l),f=s.length?s:b.map(e=>e.name),h="tailwind"===n?this.tailwindClasses:this.bootstrapClasses,$=`<form class="${h.form}">`;f.forEach(e=>{let i=b.find(t=>t.name===e);if(!i)return;let{name:a,type:l="text",label:s=t(i.name),placeholder:n="",required:r=!1,options:o=[],class:c="",attributes:m={},multiple:p=!1}=i,f=Object.entries(m).map(([e,t])=>`${e}="${t}"`).join(" "),g=u[a]||h.input;switch(l){case"textarea":$+=`<div class="${h.group} ${c}"><label for="${a}" class="${h.label}">${s}</label><textarea id="${a}" name="${a}" placeholder="${n}" class="${g} ${d}" ${f} ${r?"required":""}></textarea></div>`;break;case"select":$+=`<div class="${h.group} ${c}"><label for="${a}" class="${h.label}">${s}</label><select id="${a}" name="${a}" class="${g} ${d}" ${p?"multiple":""} ${f} ${r?"required":""}>${o.map(e=>`<option value="${e.value}">${e.label}</option>`).join("")}</select></div>`;break;case"checkbox":case"radio":$+=`<div class="${h.group} ${c}"><label class="${h.label}">${s}</label>${o.map(e=>`<div><input type="${l}" name="${a}" value="${e.value}" class="${h.checkbox} ${d}" ${f} ${r?"required":""}><label>${e.label}</label></div>`).join("")}</div>`;break;default:$+=`<div class="${h.group} ${c}"><label for="${a}" class="${h.label}">${s}</label><input type="${l}" id="${a}" name="${a}" placeholder="${n}" class="${g} ${d}" ${f} ${r?"required":""}></div>`}}),$+=`<button type="submit" class="${p} ${h.button} ${d}">${r}</button></form>`,e(a).html($),o&&this.attachValidation(e(a).find("form"),c,m)},defaultFields:[{name:"name",label:"Full Name",type:"text",placeholder:"Enter your full name",required:!0},{name:"email",label:"Email Address",type:"email",placeholder:"Enter your email",required:!0},{name:"phone",label:"Phone Number",type:"tel",placeholder:"Enter your phone number",required:!0},{name:"password",label:"Password",type:"password",placeholder:"Enter your password",required:!0},{name:"confirmPassword",label:"Confirm Password",type:"password",placeholder:"Re-enter your password",required:!1},],mergeFields:function(e,t){let i={};return[...e,...t].forEach(e=>{i[e.name]={...i[e.name],...e}}),Object.values(i)},attachValidation:function(t,i,a){t.on("submit",l=>{l.preventDefault();let s=!0;t.find("[required]").each(function(){let t=e(this),i=t.val();t.removeClass("formgenie-invalid"),i.trim()&&("email"!==t.attr("type")||/\S+@\S+\.\S+/.test(i))&&("phone"!==t.attr("name")||/^\+?\d{10,15}$/.test(i))||(s=!1,t.addClass("formgenie-invalid"))}),s?"function"==typeof i?i(t.serialize()):a&&e.ajax({url:a,type:"POST",data:t.serialize(),success:function(e){iziToast.success({title:"Success",message:"Form submitted successfully!"})},error:function(){iziToast.error({title:"Error",message:"There was an error submitting the form."})}}):iziToast.error({title:"Error",message:"Please fill in all required fields correctly."})})},tailwindClasses:{form:"bg-white p-6 rounded shadow-lg",group:"mb-4",label:"block text-gray-700 font-semibold",input:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",button:"w-full bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 focus:outline-none",checkbox:"mr-2"},bootstrapClasses:{form:"bg-white p-4 rounded shadow-lg",group:"mb-3",label:"form-label",input:"form-control",button:"btn btn-primary w-100",checkbox:"form-check-input mr-2"}}}}(jQuery);